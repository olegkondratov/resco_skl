<EntityForm xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:dummy="0" flexi="0" fleximode="1" fullscreen="0" resize="0" version="2">
  <IsContactForm>false</IsContactForm>
  <EntityName>kc_auditchecklistdetail</EntityName>
  <CamelCase>kc_auditchecklistdetail</CamelCase>
  <WorkflowLoad>&lt;?xml version="1.0" ?&gt;&lt;Workflow e="true" isvalid="true" syntaxVersion="11" version="0"&gt;&lt;branch e="false" info="Set caption" &gt;&lt;if e="true"&gt;&lt;conditions e="true" op="And"&gt;&lt;condition e="false"&gt;&lt;var&gt;Entity.IsNew&lt;/var&gt;&lt;op&gt;Equal&lt;/op&gt;&lt;arg&gt;Boolean:True&lt;/arg&gt;&lt;/condition&gt;&lt;/conditions&gt;&lt;action&gt;&lt;function e="false"&gt;&lt;var&gt;Caption&lt;/var&gt;&lt;func&gt;Assign&lt;/func&gt;&lt;arg&gt;String:Товарная категория&lt;/arg&gt;&lt;/function&gt;&lt;/action&gt;&lt;/if&gt;&lt;if e="true"&gt;&lt;conditions e="true" op="And"&gt;&lt;/conditions&gt;&lt;action&gt;&lt;function e="false"&gt;&lt;var&gt;Caption&lt;/var&gt;&lt;func&gt;Assign&lt;/func&gt;&lt;arg&gt;var:Entity.kc_productcategoryid&lt;/arg&gt;&lt;/function&gt;&lt;/action&gt;&lt;/if&gt;&lt;/branch&gt;&lt;definition e="false"&gt;&lt;var&gt;Checklist&lt;/var&gt;&lt;func&gt;LoadReference&lt;/func&gt;&lt;type&gt;Entity&lt;/type&gt;&lt;arg&gt;var:Entity.kc_auditchecklistid&lt;/arg&gt;&lt;arg&gt;String:kc_auditchecklist&lt;/arg&gt;&lt;/definition&gt;&lt;branch e="true" info="Set all disabled " &gt;&lt;if e="true"&gt;&lt;conditions e="true" op="And"&gt;&lt;condition e="false"&gt;&lt;var&gt;Checklist.statuscode&lt;/var&gt;&lt;op&gt;NotEqual&lt;/op&gt;&lt;arg&gt;Status:1&lt;/arg&gt;&lt;/condition&gt;&lt;/conditions&gt;&lt;action&gt;&lt;function e="false"&gt;&lt;var&gt;Commands.Delete.IsEnabled&lt;/var&gt;&lt;func&gt;Assign&lt;/func&gt;&lt;arg&gt;Boolean:False&lt;/arg&gt;&lt;/function&gt;&lt;function e="false"&gt;&lt;var&gt;IsFormEditable&lt;/var&gt;&lt;func&gt;Assign&lt;/func&gt;&lt;arg&gt;Boolean:False&lt;/arg&gt;&lt;/function&gt;&lt;function e="false"&gt;&lt;var&gt;Tabs.Конкуренты.IsVisible&lt;/var&gt;&lt;func&gt;Assign&lt;/func&gt;&lt;arg&gt;Boolean:False&lt;/arg&gt;&lt;/function&gt;&lt;function e="false"&gt;&lt;var&gt;Tabs.Kонкуренты.IsVisible&lt;/var&gt;&lt;func&gt;Assign&lt;/func&gt;&lt;arg&gt;Boolean:True&lt;/arg&gt;&lt;/function&gt;&lt;/action&gt;&lt;/if&gt;&lt;if e="true"&gt;&lt;conditions e="true" op="And"&gt;&lt;condition e="false"&gt;&lt;var&gt;Checklist.statuscode&lt;/var&gt;&lt;op&gt;Equal&lt;/op&gt;&lt;arg&gt;Status:1&lt;/arg&gt;&lt;/condition&gt;&lt;/conditions&gt;&lt;action&gt;&lt;function e="false"&gt;&lt;var&gt;Tabs.Конкуренты.IsVisible&lt;/var&gt;&lt;func&gt;Assign&lt;/func&gt;&lt;arg&gt;Boolean:True&lt;/arg&gt;&lt;/function&gt;&lt;function e="false"&gt;&lt;var&gt;Tabs.Kонкуренты.IsVisible&lt;/var&gt;&lt;func&gt;Assign&lt;/func&gt;&lt;arg&gt;Boolean:False&lt;/arg&gt;&lt;/function&gt;&lt;/action&gt;&lt;/if&gt;&lt;/branch&gt;&lt;/Workflow&gt;</WorkflowLoad>
  <WorkflowItemChanged>&lt;?xml version="1.0" ?&gt;&lt;Workflow e="true" isvalid="true" syntaxVersion="11" version="0"&gt;&lt;branch e="false" info="Set required kc_quantitysku and kc_quantityskuskl" &gt;&lt;if e="true"&gt;&lt;conditions e="true" op="Or"&gt;&lt;condition e="false"&gt;&lt;var&gt;Entity.kc_quantitysku&lt;/var&gt;&lt;op&gt;ContainsData&lt;/op&gt;&lt;/condition&gt;&lt;condition e="false"&gt;&lt;var&gt;Entity.kc_quantityskuskl&lt;/var&gt;&lt;op&gt;ContainsData&lt;/op&gt;&lt;/condition&gt;&lt;/conditions&gt;&lt;action&gt;&lt;function e="false"&gt;&lt;var&gt;Form.kc_quantitysku.Validate&lt;/var&gt;&lt;func&gt;Assign&lt;/func&gt;&lt;arg&gt;Boolean:True&lt;/arg&gt;&lt;/function&gt;&lt;function e="false"&gt;&lt;var&gt;Form.kc_quantityskuskl.Validate&lt;/var&gt;&lt;func&gt;Assign&lt;/func&gt;&lt;arg&gt;Boolean:True&lt;/arg&gt;&lt;/function&gt;&lt;/action&gt;&lt;/if&gt;&lt;if e="true"&gt;&lt;conditions e="true" op="And"&gt;&lt;/conditions&gt;&lt;action&gt;&lt;function e="false"&gt;&lt;var&gt;Form.kc_quantitysku.Validate&lt;/var&gt;&lt;func&gt;Assign&lt;/func&gt;&lt;arg&gt;Boolean:False&lt;/arg&gt;&lt;/function&gt;&lt;function e="false"&gt;&lt;var&gt;Form.kc_quantityskuskl.Validate&lt;/var&gt;&lt;func&gt;Assign&lt;/func&gt;&lt;arg&gt;Boolean:False&lt;/arg&gt;&lt;/function&gt;&lt;/action&gt;&lt;/if&gt;&lt;/branch&gt;&lt;branch e="false" info="Set required kc_selloutstore and kc_selloutskl" &gt;&lt;if e="true"&gt;&lt;conditions e="true" op="Or"&gt;&lt;condition e="false"&gt;&lt;var&gt;Entity.kc_selloutstore&lt;/var&gt;&lt;op&gt;ContainsData&lt;/op&gt;&lt;/condition&gt;&lt;condition e="false"&gt;&lt;var&gt;Entity.kc_selloutskl&lt;/var&gt;&lt;op&gt;ContainsData&lt;/op&gt;&lt;/condition&gt;&lt;/conditions&gt;&lt;action&gt;&lt;function e="false"&gt;&lt;var&gt;Form.kc_selloutstore.Validate&lt;/var&gt;&lt;func&gt;Assign&lt;/func&gt;&lt;arg&gt;Boolean:True&lt;/arg&gt;&lt;/function&gt;&lt;function e="false"&gt;&lt;var&gt;Form.kc_selloutskl.Validate&lt;/var&gt;&lt;func&gt;Assign&lt;/func&gt;&lt;arg&gt;Boolean:True&lt;/arg&gt;&lt;/function&gt;&lt;/action&gt;&lt;/if&gt;&lt;if e="true"&gt;&lt;conditions e="true" op="And"&gt;&lt;/conditions&gt;&lt;action&gt;&lt;function e="false"&gt;&lt;var&gt;Form.kc_selloutstore.Validate&lt;/var&gt;&lt;func&gt;Assign&lt;/func&gt;&lt;arg&gt;Boolean:False&lt;/arg&gt;&lt;/function&gt;&lt;function e="false"&gt;&lt;var&gt;Form.kc_selloutskl.Validate&lt;/var&gt;&lt;func&gt;Assign&lt;/func&gt;&lt;arg&gt;Boolean:False&lt;/arg&gt;&lt;/function&gt;&lt;/action&gt;&lt;/if&gt;&lt;/branch&gt;&lt;branch e="false" info="Set kc_shareofshelf" &gt;&lt;if e="true"&gt;&lt;conditions e="true" op="And"&gt;&lt;condition e="false"&gt;&lt;var&gt;Entity.kc_quantitysku&lt;/var&gt;&lt;op&gt;ContainsData&lt;/op&gt;&lt;/condition&gt;&lt;condition e="false"&gt;&lt;var&gt;Entity.kc_quantityskuskl&lt;/var&gt;&lt;op&gt;GreaterThan&lt;/op&gt;&lt;arg&gt;var:Entity.kc_quantitysku&lt;/arg&gt;&lt;/condition&gt;&lt;/conditions&gt;&lt;action&gt;&lt;saytext e="false"&gt;&lt;var&gt;undefined&lt;/var&gt;&lt;text&gt;Кол-во SKU SKL не может быть больше общего кол-ва SKU&lt;/text&gt;&lt;/saytext&gt;&lt;function e="false"&gt;&lt;var&gt;Entity.kc_quantityskuskl&lt;/var&gt;&lt;func&gt;Clear&lt;/func&gt;&lt;/function&gt;&lt;function e="false"&gt;&lt;var&gt;Form.kc_quantityskuskl.Focus&lt;/var&gt;&lt;func&gt;Assign&lt;/func&gt;&lt;arg&gt;Boolean:True&lt;/arg&gt;&lt;/function&gt;&lt;/action&gt;&lt;/if&gt;&lt;if e="true"&gt;&lt;conditions e="true" op="And"&gt;&lt;condition e="false"&gt;&lt;var&gt;Entity.kc_quantitysku&lt;/var&gt;&lt;op&gt;Equal&lt;/op&gt;&lt;arg&gt;Integer:0&lt;/arg&gt;&lt;/condition&gt;&lt;condition e="false"&gt;&lt;var&gt;Entity.kc_quantityskuskl&lt;/var&gt;&lt;op&gt;Equal&lt;/op&gt;&lt;arg&gt;Integer:0&lt;/arg&gt;&lt;/condition&gt;&lt;/conditions&gt;&lt;action&gt;&lt;function e="false"&gt;&lt;var&gt;Entity.kc_shareofshelf&lt;/var&gt;&lt;func&gt;Clear&lt;/func&gt;&lt;/function&gt;&lt;/action&gt;&lt;/if&gt;&lt;if e="true"&gt;&lt;conditions e="true" op="And"&gt;&lt;condition e="false"&gt;&lt;var&gt;Entity.kc_quantitysku&lt;/var&gt;&lt;op&gt;ContainsData&lt;/op&gt;&lt;/condition&gt;&lt;condition e="false"&gt;&lt;var&gt;Entity.kc_quantityskuskl&lt;/var&gt;&lt;op&gt;ContainsData&lt;/op&gt;&lt;/condition&gt;&lt;/conditions&gt;&lt;action&gt;&lt;definition e="false"&gt;&lt;var&gt;ShareOfShelf&lt;/var&gt;&lt;func&gt;Division&lt;/func&gt;&lt;type&gt;Decimal&lt;/type&gt;&lt;arg&gt;var:Entity.kc_quantityskuskl&lt;/arg&gt;&lt;arg&gt;var:Entity.kc_quantitysku&lt;/arg&gt;&lt;/definition&gt;&lt;function e="false"&gt;&lt;var&gt;Entity.kc_shareofshelf&lt;/var&gt;&lt;func&gt;Multiplication&lt;/func&gt;&lt;arg&gt;var:ShareOfShelf&lt;/arg&gt;&lt;arg&gt;Decimal:100&lt;/arg&gt;&lt;/function&gt;&lt;/action&gt;&lt;/if&gt;&lt;/branch&gt;&lt;branch e="false" info="Set kc_shareofsale" &gt;&lt;if e="true"&gt;&lt;conditions e="true" op="And"&gt;&lt;condition e="false"&gt;&lt;var&gt;Entity.kc_selloutstore&lt;/var&gt;&lt;op&gt;ContainsData&lt;/op&gt;&lt;/condition&gt;&lt;condition e="false"&gt;&lt;var&gt;Entity.kc_selloutskl&lt;/var&gt;&lt;op&gt;GreaterThan&lt;/op&gt;&lt;arg&gt;var:Entity.kc_selloutstore&lt;/arg&gt;&lt;/condition&gt;&lt;/conditions&gt;&lt;action&gt;&lt;saytext e="false"&gt;&lt;var&gt;undefined&lt;/var&gt;&lt;text&gt;Sell-out SKL не может быть больше Sell-out ТТ&lt;/text&gt;&lt;/saytext&gt;&lt;function e="false"&gt;&lt;var&gt;Entity.kc_selloutskl&lt;/var&gt;&lt;func&gt;Clear&lt;/func&gt;&lt;/function&gt;&lt;function e="false"&gt;&lt;var&gt;Form.kc_selloutskl.Focus&lt;/var&gt;&lt;func&gt;Assign&lt;/func&gt;&lt;arg&gt;Boolean:True&lt;/arg&gt;&lt;/function&gt;&lt;/action&gt;&lt;/if&gt;&lt;if e="false"&gt;&lt;conditions e="false" op="And"&gt;&lt;condition e="false"&gt;&lt;var&gt;Entity.kc_selloutstore&lt;/var&gt;&lt;op&gt;Equal&lt;/op&gt;&lt;arg&gt;Decimal:0&lt;/arg&gt;&lt;/condition&gt;&lt;condition e="false"&gt;&lt;var&gt;Entity.kc_selloutskl&lt;/var&gt;&lt;op&gt;Equal&lt;/op&gt;&lt;arg&gt;Decimal:0&lt;/arg&gt;&lt;/condition&gt;&lt;/conditions&gt;&lt;action&gt;&lt;function e="false"&gt;&lt;var&gt;Entity.kc_shareofsale&lt;/var&gt;&lt;func&gt;Clear&lt;/func&gt;&lt;/function&gt;&lt;/action&gt;&lt;/if&gt;&lt;if e="false"&gt;&lt;conditions e="false" op="And"&gt;&lt;condition e="false"&gt;&lt;var&gt;Entity.kc_selloutstore&lt;/var&gt;&lt;op&gt;ContainsData&lt;/op&gt;&lt;/condition&gt;&lt;condition e="false"&gt;&lt;var&gt;Entity.kc_selloutskl&lt;/var&gt;&lt;op&gt;ContainsData&lt;/op&gt;&lt;/condition&gt;&lt;/conditions&gt;&lt;action&gt;&lt;definition e="false"&gt;&lt;var&gt;ShareOfSale&lt;/var&gt;&lt;func&gt;Division&lt;/func&gt;&lt;type&gt;Decimal&lt;/type&gt;&lt;arg&gt;var:Entity.kc_selloutskl&lt;/arg&gt;&lt;arg&gt;var:Entity.kc_selloutstore&lt;/arg&gt;&lt;/definition&gt;&lt;function e="false"&gt;&lt;var&gt;Entity.kc_shareofsale&lt;/var&gt;&lt;func&gt;Multiplication&lt;/func&gt;&lt;arg&gt;var:ShareOfSale&lt;/arg&gt;&lt;arg&gt;Decimal:100&lt;/arg&gt;&lt;/function&gt;&lt;/action&gt;&lt;/if&gt;&lt;/branch&gt;&lt;branch e="false" info="Set kc_kep" &gt;&lt;if e="true"&gt;&lt;conditions e="true" op="And"&gt;&lt;condition e="false"&gt;&lt;var&gt;Entity.kc_shareofshelf&lt;/var&gt;&lt;op&gt;ContainsData&lt;/op&gt;&lt;/condition&gt;&lt;condition e="false"&gt;&lt;var&gt;Entity.kc_shareofsale&lt;/var&gt;&lt;op&gt;ContainsData&lt;/op&gt;&lt;/condition&gt;&lt;/conditions&gt;&lt;action&gt;&lt;function e="false"&gt;&lt;var&gt;Entity.kc_kep&lt;/var&gt;&lt;func&gt;Division&lt;/func&gt;&lt;arg&gt;var:Entity.kc_shareofsale&lt;/arg&gt;&lt;arg&gt;var:Entity.kc_shareofshelf&lt;/arg&gt;&lt;/function&gt;&lt;/action&gt;&lt;/if&gt;&lt;if e="true"&gt;&lt;conditions e="true" op="And"&gt;&lt;/conditions&gt;&lt;action&gt;&lt;function e="false"&gt;&lt;var&gt;Entity.kc_kep&lt;/var&gt;&lt;func&gt;Clear&lt;/func&gt;&lt;/function&gt;&lt;/action&gt;&lt;/if&gt;&lt;/branch&gt;&lt;/Workflow&gt;</WorkflowItemChanged>
  <SharedVariables>&lt;SharedVariables&gt;&lt;Variables&gt;&lt;/Variables&gt;&lt;/SharedVariables&gt;</SharedVariables>
  <PrimaryCommands>Delete||</PrimaryCommands>
  <SharedVariableNames/>
  <EnabledWorkflows>OnLoadEnabled OnChangeEnabled OnSaveEnabled OnExecuteCommand OnCanExecuteCommand</EnabledWorkflows>
  <SerializedChildrenV2>
    <FormTab xsi:type="DetailTab" flexiHeader="0">
      <Name>Сводка</Name>
      <SerializedChildren>
        <DetailItem separator="true" xsi:type="SeparatorDetailItem">
          <IsConstant>true</IsConstant>
        </DetailItem>
        <DetailItem SchemaName="kc_productcategoryid">
          <LookupViews>&lt;extra&gt;&lt;actions&gt;0;;0&lt;/actions&gt;&lt;filter entity="kc_productcategory"&gt;&amp;lt;fetch version="1.0"&amp;gt;&amp;lt;entity name="kc_productcategory"&amp;gt;&amp;lt;filter type="and"&amp;gt;&amp;lt;condition attribute="kc_productcategoryid" entityname="L0" operator="null"/&amp;gt;&amp;lt;/filter&amp;gt;&amp;lt;link-entity name="kc_auditchecklistdetail" alias="L0" from="kc_productcategoryid" to="kc_productcategoryid" link-type="outer"&amp;gt;&amp;lt;filter type="and"&amp;gt;&amp;lt;condition attribute="kc_auditchecklistid" operator="eq" value="{{kc_auditchecklistid}}"/&amp;gt;&amp;lt;/filter&amp;gt;&amp;lt;/link-entity&amp;gt;&amp;lt;/entity&amp;gt;&amp;lt;/fetch&amp;gt;&lt;/filter&gt;&lt;/extra&gt;</LookupViews>
        </DetailItem>
        <DetailItem separator="true" xsi:type="SeparatorDetailItem">
          <IsConstant>true</IsConstant>
        </DetailItem>
        <DetailItem SchemaName="kc_quantitysku" Style="NormalRed"/>
        <DetailItem SchemaName="kc_quantityskuskl" Style="NormalRed"/>
        <DetailItem SchemaName="kc_selloutstore" Style="NormalRed"/>
        <DetailItem SchemaName="kc_selloutskl" Style="NormalRed"/>
        <DetailItem SchemaName="kc_sellinskl" Style="NormalRed"/>
        <DetailItem SchemaName="kc_shareofshelf" Style="NormalRed"/>
        <DetailItem SchemaName="kc_shareofsale" Style="NormalRed"/>
        <DetailItem SchemaName="kc_kep" Style="NormalRed"/>
      </SerializedChildren>
    </FormTab>
    <FormTab xsi:type="AssociatedTab" flexiHeight="6" flexiHeader="2" flexiOrientation="1" DocCommands="0" FlipMode="224" ListCommands="20">
      <Name>Конкуренты</Name>
      <CustomName>Конкуренты</CustomName>
      <Binding SchemaName="kc_competitorfromaudit.kc_auditchecklistdetailid"/>
      <Views>kc_competitorfromaudit.Конкуренты по результатам аудита</Views>
    </FormTab>
    <FormTab xsi:type="AssociatedTab" flexiHeight="6" flexiHeader="2" flexiOrientation="1" DocCommands="0" FlipMode="224" ListCommands="4">
      <Name>Kонкуренты</Name>
      <CustomName>Kонкуренты</CustomName>
      <Binding SchemaName="kc_competitorfromaudit.kc_auditchecklistdetailid"/>
      <Views>kc_competitorfromaudit.Disabled</Views>
    </FormTab>
  </SerializedChildrenV2>
</EntityForm>